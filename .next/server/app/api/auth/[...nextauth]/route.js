"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/[...nextauth]/route";
exports.ids = ["app/api/auth/[...nextauth]/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Ftoobaasghar%2FDesktop%2Fprojects%2Fdaynnight%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftoobaasghar%2FDesktop%2Fprojects%2Fdaynnight&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Ftoobaasghar%2FDesktop%2Fprojects%2Fdaynnight%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftoobaasghar%2FDesktop%2Fprojects%2Fdaynnight&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var _Users_toobaasghar_Desktop_projects_daynnight_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/api/auth/[...nextauth]/route.ts */ \"(rsc)/./app/api/auth/[...nextauth]/route.ts\");\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/[...nextauth]/route\",\n        pathname: \"/api/auth/[...nextauth]\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/[...nextauth]/route\"\n    },\n    resolvedPagePath: \"/Users/toobaasghar/Desktop/projects/daynnight/app/api/auth/[...nextauth]/route.ts\",\n    nextConfigOutput,\n    userland: _Users_toobaasghar_Desktop_projects_daynnight_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_2__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/auth/[...nextauth]/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGJTVCLi4ubmV4dGF1dGglNUQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnRvb2JhYXNnaGFyJTJGRGVza3RvcCUyRnByb2plY3RzJTJGZGF5bm5pZ2h0JTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnRvb2JhYXNnaGFyJTJGRGVza3RvcCUyRnByb2plY3RzJTJGZGF5bm5pZ2h0JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUMrQztBQUM5RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNpSjs7QUFFakoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kYXktbmlnaHQtaW5jLz81ZDdiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy90b29iYWFzZ2hhci9EZXNrdG9wL3Byb2plY3RzL2RheW5uaWdodC9hcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvdG9vYmFhc2doYXIvRGVza3RvcC9wcm9qZWN0cy9kYXlubmlnaHQvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlXCI7XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Ftoobaasghar%2FDesktop%2Fprojects%2Fdaynnight%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftoobaasghar%2FDesktop%2Fprojects%2Fdaynnight&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/auth/[...nextauth]/route.ts":
/*!*********************************************!*\
  !*** ./app/api/auth/[...nextauth]/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ handler),\n/* harmony export */   POST: () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n\n\nconst handler = next_auth__WEBPACK_IMPORTED_MODULE_0___default()(_lib_auth__WEBPACK_IMPORTED_MODULE_1__.authOptions);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFpQztBQUNRO0FBRXpDLE1BQU1FLFVBQVVGLGdEQUFRQSxDQUFDQyxrREFBV0E7QUFFTyIsInNvdXJjZXMiOlsid2VicGFjazovL2RheS1uaWdodC1pbmMvLi9hcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZS50cz9jOGE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBOZXh0QXV0aCBmcm9tICduZXh0LWF1dGgnO1xuaW1wb3J0IHsgYXV0aE9wdGlvbnMgfSBmcm9tICdAL2xpYi9hdXRoJztcblxuY29uc3QgaGFuZGxlciA9IE5leHRBdXRoKGF1dGhPcHRpb25zKTtcblxuZXhwb3J0IHsgaGFuZGxlciBhcyBHRVQsIGhhbmRsZXIgYXMgUE9TVCB9OyJdLCJuYW1lcyI6WyJOZXh0QXV0aCIsImF1dGhPcHRpb25zIiwiaGFuZGxlciIsIkdFVCIsIlBPU1QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/[...nextauth]/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./db */ \"(rsc)/./lib/db.ts\");\n\n\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    return null;\n                }\n                const userResult = await (0,_db__WEBPACK_IMPORTED_MODULE_1__.getUserByEmail)(credentials.email);\n                if (!userResult.success || !userResult.data) {\n                    return null;\n                }\n                const user = userResult.data;\n                const isValidPassword = await (0,_db__WEBPACK_IMPORTED_MODULE_1__.verifyPassword)(credentials.password, user.password);\n                if (!isValidPassword) {\n                    return null;\n                }\n                return {\n                    id: user.id.toString(),\n                    email: user.email,\n                    name: user.name,\n                    role: user.role\n                };\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\"\n    },\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.role = user.role;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token && session.user) {\n                session.user.id = token.sub;\n                session.user.role = token.role;\n            }\n            return session;\n        },\n        async redirect ({ url, baseUrl }) {\n            // Handle callback URLs properly\n            if (url.startsWith(\"/\")) {\n                return `${baseUrl}${url}`;\n            }\n            // If it's a callback URL, extract the actual destination\n            if (url.includes(\"callbackUrl=\")) {\n                const urlObj = new URL(url);\n                const callbackUrl = urlObj.searchParams.get(\"callbackUrl\");\n                if (callbackUrl) {\n                    const decodedCallback = decodeURIComponent(callbackUrl);\n                    if (decodedCallback.startsWith(baseUrl)) {\n                        return decodedCallback;\n                    }\n                }\n            }\n            // Allow same origin URLs\n            if (new URL(url).origin === baseUrl) {\n                return url;\n            }\n            return baseUrl;\n        }\n    },\n    pages: {\n        signIn: \"/auth/signin\"\n    },\n    secret: process.env.NEXTAUTH_SECRET\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDa0U7QUFDWjtBQUUvQyxNQUFNRyxjQUErQjtJQUMxQ0MsV0FBVztRQUNUSiwyRUFBbUJBLENBQUM7WUFDbEJLLE1BQU07WUFDTkMsYUFBYTtnQkFDWEMsT0FBTztvQkFBRUMsT0FBTztvQkFBU0MsTUFBTTtnQkFBUTtnQkFDdkNDLFVBQVU7b0JBQUVGLE9BQU87b0JBQVlDLE1BQU07Z0JBQVc7WUFDbEQ7WUFDQSxNQUFNRSxXQUFVTCxXQUFXO2dCQUN6QixJQUFJLENBQUNBLGFBQWFDLFNBQVMsQ0FBQ0QsYUFBYUksVUFBVTtvQkFDakQsT0FBTztnQkFDVDtnQkFFQSxNQUFNRSxhQUFhLE1BQU1YLG1EQUFjQSxDQUFDSyxZQUFZQyxLQUFLO2dCQUN6RCxJQUFJLENBQUNLLFdBQVdDLE9BQU8sSUFBSSxDQUFDRCxXQUFXRSxJQUFJLEVBQUU7b0JBQzNDLE9BQU87Z0JBQ1Q7Z0JBRUEsTUFBTUMsT0FBT0gsV0FBV0UsSUFBSTtnQkFDNUIsTUFBTUUsa0JBQWtCLE1BQU1kLG1EQUFjQSxDQUFDSSxZQUFZSSxRQUFRLEVBQUVLLEtBQUtMLFFBQVE7Z0JBRWhGLElBQUksQ0FBQ00saUJBQWlCO29CQUNwQixPQUFPO2dCQUNUO2dCQUVBLE9BQU87b0JBQ0xDLElBQUlGLEtBQUtFLEVBQUUsQ0FBQ0MsUUFBUTtvQkFDcEJYLE9BQU9RLEtBQUtSLEtBQUs7b0JBQ2pCRixNQUFNVSxLQUFLVixJQUFJO29CQUNmYyxNQUFNSixLQUFLSSxJQUFJO2dCQUNqQjtZQUNGO1FBQ0Y7S0FDRDtJQUNEQyxTQUFTO1FBQ1BDLFVBQVU7SUFDWjtJQUNBQyxXQUFXO1FBQ1QsTUFBTUMsS0FBSSxFQUFFQyxLQUFLLEVBQUVULElBQUksRUFBRTtZQUN2QixJQUFJQSxNQUFNO2dCQUNSUyxNQUFNTCxJQUFJLEdBQUdKLEtBQUtJLElBQUk7WUFDeEI7WUFDQSxPQUFPSztRQUNUO1FBQ0EsTUFBTUosU0FBUSxFQUFFQSxPQUFPLEVBQUVJLEtBQUssRUFBRTtZQUM5QixJQUFJQSxTQUFTSixRQUFRTCxJQUFJLEVBQUU7Z0JBQ3pCSyxRQUFRTCxJQUFJLENBQUNFLEVBQUUsR0FBR08sTUFBTUMsR0FBRztnQkFDM0JMLFFBQVFMLElBQUksQ0FBQ0ksSUFBSSxHQUFHSyxNQUFNTCxJQUFJO1lBQ2hDO1lBQ0EsT0FBT0M7UUFDVDtRQUNBLE1BQU1NLFVBQVMsRUFBRUMsR0FBRyxFQUFFQyxPQUFPLEVBQUU7WUFDN0IsZ0NBQWdDO1lBQ2hDLElBQUlELElBQUlFLFVBQVUsQ0FBQyxNQUFNO2dCQUN2QixPQUFPLENBQUMsRUFBRUQsUUFBUSxFQUFFRCxJQUFJLENBQUM7WUFDM0I7WUFFQSx5REFBeUQ7WUFDekQsSUFBSUEsSUFBSUcsUUFBUSxDQUFDLGlCQUFpQjtnQkFDaEMsTUFBTUMsU0FBUyxJQUFJQyxJQUFJTDtnQkFDdkIsTUFBTU0sY0FBY0YsT0FBT0csWUFBWSxDQUFDQyxHQUFHLENBQUM7Z0JBQzVDLElBQUlGLGFBQWE7b0JBQ2YsTUFBTUcsa0JBQWtCQyxtQkFBbUJKO29CQUMzQyxJQUFJRyxnQkFBZ0JQLFVBQVUsQ0FBQ0QsVUFBVTt3QkFDdkMsT0FBT1E7b0JBQ1Q7Z0JBQ0Y7WUFDRjtZQUVBLHlCQUF5QjtZQUN6QixJQUFJLElBQUlKLElBQUlMLEtBQUtXLE1BQU0sS0FBS1YsU0FBUztnQkFDbkMsT0FBT0Q7WUFDVDtZQUVBLE9BQU9DO1FBQ1Q7SUFDRjtJQUNBVyxPQUFPO1FBQ0xDLFFBQVE7SUFDVjtJQUNBQyxRQUFRQyxRQUFRQyxHQUFHLENBQUNDLGVBQWU7QUFDckMsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2RheS1uaWdodC1pbmMvLi9saWIvYXV0aC50cz9iZjdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gJ25leHQtYXV0aCc7XG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzJztcbmltcG9ydCB7IGdldFVzZXJCeUVtYWlsLCB2ZXJpZnlQYXNzd29yZCB9IGZyb20gJy4vZGInO1xuXG5leHBvcnQgY29uc3QgYXV0aE9wdGlvbnM6IE5leHRBdXRoT3B0aW9ucyA9IHtcbiAgcHJvdmlkZXJzOiBbXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XG4gICAgICBuYW1lOiAnY3JlZGVudGlhbHMnLFxuICAgICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6ICdFbWFpbCcsIHR5cGU6ICdlbWFpbCcgfSxcbiAgICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6ICdQYXNzd29yZCcsIHR5cGU6ICdwYXNzd29yZCcgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzPy5lbWFpbCB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1c2VyUmVzdWx0ID0gYXdhaXQgZ2V0VXNlckJ5RW1haWwoY3JlZGVudGlhbHMuZW1haWwpO1xuICAgICAgICBpZiAoIXVzZXJSZXN1bHQuc3VjY2VzcyB8fCAhdXNlclJlc3VsdC5kYXRhKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1c2VyID0gdXNlclJlc3VsdC5kYXRhO1xuICAgICAgICBjb25zdCBpc1ZhbGlkUGFzc3dvcmQgPSBhd2FpdCB2ZXJpZnlQYXNzd29yZChjcmVkZW50aWFscy5wYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWlzVmFsaWRQYXNzd29yZCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogdXNlci5pZC50b1N0cmluZygpLFxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICByb2xlOiB1c2VyLnJvbGUsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSlcbiAgXSxcbiAgc2Vzc2lvbjoge1xuICAgIHN0cmF0ZWd5OiAnand0JyxcbiAgfSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIgfSkge1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgdG9rZW4ucm9sZSA9IHVzZXIucm9sZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9LFxuICAgIGFzeW5jIHNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiB9KSB7XG4gICAgICBpZiAodG9rZW4gJiYgc2Vzc2lvbi51c2VyKSB7XG4gICAgICAgIHNlc3Npb24udXNlci5pZCA9IHRva2VuLnN1YiE7XG4gICAgICAgIHNlc3Npb24udXNlci5yb2xlID0gdG9rZW4ucm9sZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXNzaW9uO1xuICAgIH0sXG4gICAgYXN5bmMgcmVkaXJlY3QoeyB1cmwsIGJhc2VVcmwgfSkge1xuICAgICAgLy8gSGFuZGxlIGNhbGxiYWNrIFVSTHMgcHJvcGVybHlcbiAgICAgIGlmICh1cmwuc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgcmV0dXJuIGAke2Jhc2VVcmx9JHt1cmx9YDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSWYgaXQncyBhIGNhbGxiYWNrIFVSTCwgZXh0cmFjdCB0aGUgYWN0dWFsIGRlc3RpbmF0aW9uXG4gICAgICBpZiAodXJsLmluY2x1ZGVzKCdjYWxsYmFja1VybD0nKSkge1xuICAgICAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKHVybCk7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrVXJsID0gdXJsT2JqLnNlYXJjaFBhcmFtcy5nZXQoJ2NhbGxiYWNrVXJsJyk7XG4gICAgICAgIGlmIChjYWxsYmFja1VybCkge1xuICAgICAgICAgIGNvbnN0IGRlY29kZWRDYWxsYmFjayA9IGRlY29kZVVSSUNvbXBvbmVudChjYWxsYmFja1VybCk7XG4gICAgICAgICAgaWYgKGRlY29kZWRDYWxsYmFjay5zdGFydHNXaXRoKGJhc2VVcmwpKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVjb2RlZENhbGxiYWNrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBbGxvdyBzYW1lIG9yaWdpbiBVUkxzXG4gICAgICBpZiAobmV3IFVSTCh1cmwpLm9yaWdpbiA9PT0gYmFzZVVybCkge1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gYmFzZVVybDtcbiAgICB9LFxuICB9LFxuICBwYWdlczoge1xuICAgIHNpZ25JbjogJy9hdXRoL3NpZ25pbicsXG4gIH0sXG4gIHNlY3JldDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULFxufTsiXSwibmFtZXMiOlsiQ3JlZGVudGlhbHNQcm92aWRlciIsImdldFVzZXJCeUVtYWlsIiwidmVyaWZ5UGFzc3dvcmQiLCJhdXRoT3B0aW9ucyIsInByb3ZpZGVycyIsIm5hbWUiLCJjcmVkZW50aWFscyIsImVtYWlsIiwibGFiZWwiLCJ0eXBlIiwicGFzc3dvcmQiLCJhdXRob3JpemUiLCJ1c2VyUmVzdWx0Iiwic3VjY2VzcyIsImRhdGEiLCJ1c2VyIiwiaXNWYWxpZFBhc3N3b3JkIiwiaWQiLCJ0b1N0cmluZyIsInJvbGUiLCJzZXNzaW9uIiwic3RyYXRlZ3kiLCJjYWxsYmFja3MiLCJqd3QiLCJ0b2tlbiIsInN1YiIsInJlZGlyZWN0IiwidXJsIiwiYmFzZVVybCIsInN0YXJ0c1dpdGgiLCJpbmNsdWRlcyIsInVybE9iaiIsIlVSTCIsImNhbGxiYWNrVXJsIiwic2VhcmNoUGFyYW1zIiwiZ2V0IiwiZGVjb2RlZENhbGxiYWNrIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwib3JpZ2luIiwicGFnZXMiLCJzaWduSW4iLCJzZWNyZXQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVEFVVEhfU0VDUkVUIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addToCart: () => (/* binding */ addToCart),\n/* harmony export */   createProduct: () => (/* binding */ createProduct),\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   deleteOrder: () => (/* binding */ deleteOrder),\n/* harmony export */   deleteProduct: () => (/* binding */ deleteProduct),\n/* harmony export */   deleteUser: () => (/* binding */ deleteUser),\n/* harmony export */   getAllOrders: () => (/* binding */ getAllOrders),\n/* harmony export */   getAllUsers: () => (/* binding */ getAllUsers),\n/* harmony export */   getCartItems: () => (/* binding */ getCartItems),\n/* harmony export */   getCategories: () => (/* binding */ getCategories),\n/* harmony export */   getProducts: () => (/* binding */ getProducts),\n/* harmony export */   getProductsByCategory: () => (/* binding */ getProductsByCategory),\n/* harmony export */   getUserByEmail: () => (/* binding */ getUserByEmail),\n/* harmony export */   initializeDatabase: () => (/* binding */ initializeDatabase),\n/* harmony export */   removeFromCart: () => (/* binding */ removeFromCart),\n/* harmony export */   searchProducts: () => (/* binding */ searchProducts),\n/* harmony export */   seedDatabase: () => (/* binding */ seedDatabase),\n/* harmony export */   updateOrderStatus: () => (/* binding */ updateOrderStatus),\n/* harmony export */   updateProduct: () => (/* binding */ updateProduct),\n/* harmony export */   updateUser: () => (/* binding */ updateUser),\n/* harmony export */   verifyPassword: () => (/* binding */ verifyPassword)\n/* harmony export */ });\n/* harmony import */ var _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @vercel/postgres */ \"(rsc)/./node_modules/@vercel/postgres/dist/index-node.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n\n\n// Check if Postgres is properly configured\nfunction checkPostgresConnection() {\n    const postgresUrl = process.env.POSTGRES_URL;\n    return postgresUrl && !postgresUrl.includes(\"username\") && !postgresUrl.includes(\"password\");\n}\n// Initialize memory data for development\nasync function initializeMemoryData() {\n    memoryProducts = [\n        {\n            id: 1,\n            name: \"Wireless Headphones\",\n            description: \"High-quality wireless headphones with noise cancellation\",\n            price: 199.99,\n            image: \"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400\",\n            category: \"Electronics\",\n            rating: 4.5,\n            reviews: 128,\n            inStock: true\n        },\n        {\n            id: 2,\n            name: \"Smart Watch\",\n            description: \"Feature-rich smartwatch with health monitoring\",\n            price: 299.99,\n            image: \"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400\",\n            category: \"Electronics\",\n            rating: 4.3,\n            reviews: 89,\n            inStock: true\n        },\n        {\n            id: 3,\n            name: \"Laptop Backpack\",\n            description: \"Durable laptop backpack with multiple compartments\",\n            price: 79.99,\n            image: \"https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400\",\n            category: \"Accessories\",\n            rating: 4.7,\n            reviews: 156,\n            inStock: true\n        }\n    ];\n    memoryCategories = [\n        {\n            id: 1,\n            name: \"Electronics\",\n            description: \"Latest gadgets and electronic devices\",\n            image: \"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400\"\n        },\n        {\n            id: 2,\n            name: \"Accessories\",\n            description: \"Essential accessories for daily use\",\n            image: \"https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400\"\n        },\n        {\n            id: 3,\n            name: \"Home & Garden\",\n            description: \"Everything for your home and garden\",\n            image: \"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400\"\n        }\n    ];\n    // Create default admin user for development\n    const adminPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hash(\"admin123\", 10);\n    memoryUsers = [\n        {\n            id: 1,\n            email: \"admin@daynnight.com\",\n            name: \"Admin User\",\n            password: adminPassword,\n            role: \"admin\",\n            createdAt: new Date()\n        }\n    ];\n}\n// For development, we'll use a simple in-memory fallback when Postgres is not available\nlet isPostgresAvailable = checkPostgresConnection();\n// Simple in-memory storage for development\nlet memoryProducts = [];\nlet memoryCategories = [];\nlet memoryUsers = [];\nlet memoryCartItems = [];\n// Track initialization status\nlet memoryInitialized = false;\nlet initializationPromise = null;\n// Initialize memory data immediately if Postgres is not available\nif (!isPostgresAvailable) {\n    initializationPromise = initializeMemoryData().then(()=>{\n        memoryInitialized = true;\n        console.log(\"In-memory database initialized successfully\");\n    }).catch((error)=>{\n        console.error(\"Failed to initialize in-memory database:\", error);\n    });\n}\n// Ensure initialization is complete before any database operations\nasync function ensureMemoryInitialized() {\n    if (!isPostgresAvailable && !memoryInitialized) {\n        if (initializationPromise) {\n            await initializationPromise;\n        } else {\n            await initializeMemoryData();\n            memoryInitialized = true;\n        }\n    }\n}\n// Initialize database tables\nasync function initializeDatabase() {\n    // Check if Postgres is properly configured\n    if (!isPostgresAvailable) {\n        console.log(\"Postgres not configured, using in-memory storage for development\");\n        // Initialize with sample data\n        initializeMemoryData();\n        return {\n            success: true\n        };\n    }\n    try {\n        // Create products table\n        await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      CREATE TABLE IF NOT EXISTS products (\n        id SERIAL PRIMARY KEY,\n        name VARCHAR(255) NOT NULL,\n        description TEXT,\n        price DECIMAL(10, 2) NOT NULL,\n        image VARCHAR(500),\n        category VARCHAR(100),\n        rating DECIMAL(2, 1) DEFAULT 0,\n        reviews INTEGER DEFAULT 0,\n        in_stock BOOLEAN DEFAULT true,\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `;\n        // Create categories table\n        await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      CREATE TABLE IF NOT EXISTS categories (\n        id SERIAL PRIMARY KEY,\n        name VARCHAR(255) NOT NULL UNIQUE,\n        description TEXT,\n        image VARCHAR(500),\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `;\n        // Create users table\n        await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      CREATE TABLE IF NOT EXISTS users (\n        id SERIAL PRIMARY KEY,\n        email VARCHAR(255) NOT NULL UNIQUE,\n        name VARCHAR(255) NOT NULL,\n        password VARCHAR(255) NOT NULL,\n        role VARCHAR(20) DEFAULT 'user',\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `;\n        // Create cart_items table\n        await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      CREATE TABLE IF NOT EXISTS cart_items (\n        id SERIAL PRIMARY KEY,\n        user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,\n        product_id INTEGER REFERENCES products(id) ON DELETE CASCADE,\n        quantity INTEGER NOT NULL DEFAULT 1,\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `;\n        // Create orders table\n        await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      CREATE TABLE IF NOT EXISTS orders (\n        id SERIAL PRIMARY KEY,\n        user_id INTEGER REFERENCES users(id) ON DELETE CASCADE,\n        total DECIMAL(10, 2) NOT NULL,\n        status VARCHAR(20) DEFAULT 'pending',\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `;\n        console.log(\"Database tables initialized successfully\");\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error(\"Error initializing database:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\n// Seed initial data\nasync function seedDatabase() {\n    try {\n        // Insert sample categories\n        const categories = [\n            {\n                name: \"Electronics\",\n                description: \"Latest gadgets and electronic devices\",\n                image: \"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400\"\n            },\n            {\n                name: \"Clothing\",\n                description: \"Fashion and apparel for all occasions\",\n                image: \"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400\"\n            },\n            {\n                name: \"Home & Garden\",\n                description: \"Everything for your home and garden\",\n                image: \"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400\"\n            },\n            {\n                name: \"Sports\",\n                description: \"Sports equipment and fitness gear\",\n                image: \"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400\"\n            }\n        ];\n        for (const category of categories){\n            await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n        INSERT INTO categories (name, description, image)\n        VALUES (${category.name}, ${category.description}, ${category.image})\n        ON CONFLICT (name) DO NOTHING\n      `;\n        }\n        // Insert sample products\n        const products = [\n            {\n                name: \"Wireless Headphones\",\n                description: \"High-quality wireless headphones with noise cancellation\",\n                price: 199.99,\n                image: \"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400\",\n                category: \"Electronics\",\n                rating: 4.5,\n                reviews: 128\n            },\n            {\n                name: \"Smart Watch\",\n                description: \"Feature-rich smartwatch with health monitoring\",\n                price: 299.99,\n                image: \"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400\",\n                category: \"Electronics\",\n                rating: 4.3,\n                reviews: 89\n            },\n            {\n                name: \"Designer T-Shirt\",\n                description: \"Premium cotton t-shirt with modern design\",\n                price: 49.99,\n                image: \"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400\",\n                category: \"Clothing\",\n                rating: 4.7,\n                reviews: 203\n            },\n            {\n                name: \"Running Shoes\",\n                description: \"Comfortable running shoes for all terrains\",\n                price: 129.99,\n                image: \"https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400\",\n                category: \"Sports\",\n                rating: 4.6,\n                reviews: 156\n            },\n            {\n                name: \"Coffee Maker\",\n                description: \"Automatic coffee maker with programmable settings\",\n                price: 89.99,\n                image: \"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=400\",\n                category: \"Home & Garden\",\n                rating: 4.4,\n                reviews: 74\n            },\n            {\n                name: \"Yoga Mat\",\n                description: \"Non-slip yoga mat for comfortable workouts\",\n                price: 39.99,\n                image: \"https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=400\",\n                category: \"Sports\",\n                rating: 4.8,\n                reviews: 312\n            }\n        ];\n        for (const product of products){\n            await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n        INSERT INTO products (name, description, price, image, category, rating, reviews)\n        VALUES (${product.name}, ${product.description}, ${product.price}, ${product.image}, ${product.category}, ${product.rating}, ${product.reviews})\n        ON CONFLICT DO NOTHING\n      `;\n        }\n        // Create default admin user\n        const adminPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hash(\"admin123\", 10);\n        await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      INSERT INTO users (email, name, password, role)\n      VALUES ('admin@daynnight.com', 'Admin User', ${adminPassword}, 'admin')\n      ON CONFLICT (email) DO NOTHING\n    `;\n        console.log(\"Database seeded successfully\");\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error(\"Error seeding database:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\n// Get all products\nasync function getProducts() {\n    if (!isPostgresAvailable) {\n        await ensureMemoryInitialized();\n        return {\n            success: true,\n            data: memoryProducts\n        };\n    }\n    try {\n        const { rows } = await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      SELECT * FROM products \n      ORDER BY created_at DESC\n    `;\n        // Convert price from string to number (PostgreSQL DECIMAL returns as string)\n        const products = rows.map((row)=>({\n                ...row,\n                price: parseFloat(row.price),\n                rating: parseFloat(row.rating)\n            }));\n        return {\n            success: true,\n            data: products\n        };\n    } catch (error) {\n        console.error(\"Error fetching products:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\n// Get all categories\nasync function getCategories() {\n    if (!isPostgresAvailable) {\n        await ensureMemoryInitialized();\n        return {\n            success: true,\n            data: memoryCategories\n        };\n    }\n    try {\n        const { rows } = await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      SELECT * FROM categories \n      ORDER BY name ASC\n    `;\n        return {\n            success: true,\n            data: rows\n        };\n    } catch (error) {\n        console.error(\"Error fetching categories:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\n// Get products by category\nasync function getProductsByCategory(category) {\n    if (!isPostgresAvailable) {\n        await ensureMemoryInitialized();\n        return {\n            success: true,\n            data: memoryProducts.filter((p)=>p.category.toLowerCase() === category.toLowerCase())\n        };\n    }\n    try {\n        const { rows } = await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      SELECT * FROM products \n      WHERE LOWER(category) = LOWER(${category})\n      ORDER BY created_at DESC\n    `;\n        // Convert price from string to number (PostgreSQL DECIMAL returns as string)\n        const products = rows.map((row)=>({\n                ...row,\n                price: parseFloat(row.price),\n                rating: parseFloat(row.rating)\n            }));\n        return {\n            success: true,\n            data: products\n        };\n    } catch (error) {\n        console.error(\"Error fetching products by category:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\n// Search products\nasync function searchProducts(query) {\n    if (!isPostgresAvailable) {\n        await ensureMemoryInitialized();\n        return {\n            success: true,\n            data: memoryProducts.filter((p)=>p.name.toLowerCase().includes(query.toLowerCase()) || p.description.toLowerCase().includes(query.toLowerCase()) || p.category.toLowerCase().includes(query.toLowerCase()))\n        };\n    }\n    try {\n        const { rows } = await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      SELECT * FROM products \n      WHERE name ILIKE ${`%${query}%`} \n         OR description ILIKE ${`%${query}%`}\n         OR category ILIKE ${`%${query}%`}\n      ORDER BY created_at DESC\n    `;\n        // Convert price from string to number (PostgreSQL DECIMAL returns as string)\n        const products = rows.map((row)=>({\n                ...row,\n                price: parseFloat(row.price),\n                rating: parseFloat(row.rating)\n            }));\n        return {\n            success: true,\n            data: products\n        };\n    } catch (error) {\n        console.error(\"Error searching products:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\n// User authentication functions\nasync function createUser(email, name, password) {\n    // Check if Postgres is available\n    if (!isPostgresAvailable) {\n        await ensureMemoryInitialized();\n        // Use in-memory storage for development\n        const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hash(password, 10);\n        // Check if user already exists\n        const existingUser = memoryUsers.find((user)=>user.email === email);\n        if (existingUser) {\n            return {\n                success: false,\n                error: \"User already exists\"\n            };\n        }\n        const newUser = {\n            id: memoryUsers.length + 1,\n            email,\n            name,\n            password: hashedPassword,\n            role: \"user\",\n            createdAt: new Date()\n        };\n        memoryUsers.push(newUser);\n        // Return user without password\n        const { password: _, ...userWithoutPassword } = newUser;\n        return {\n            success: true,\n            data: userWithoutPassword\n        };\n    }\n    try {\n        const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hash(password, 10);\n        const { rows } = await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      INSERT INTO users (email, name, password, role)\n      VALUES (${email}, ${name}, ${hashedPassword}, 'user')\n      RETURNING id, email, name, role, created_at\n    `;\n        return {\n            success: true,\n            data: rows[0]\n        };\n    } catch (error) {\n        console.error(\"Error creating user:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\nasync function getUserByEmail(email) {\n    if (!isPostgresAvailable) {\n        await ensureMemoryInitialized();\n        const user = memoryUsers.find((u)=>u.email === email);\n        if (user) {\n            return {\n                success: true,\n                data: {\n                    id: user.id,\n                    email: user.email,\n                    name: user.name,\n                    password: user.password,\n                    role: user.role,\n                    created_at: user.createdAt\n                }\n            };\n        }\n        return {\n            success: true,\n            data: null\n        };\n    }\n    try {\n        const { rows } = await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      SELECT * FROM users WHERE email = ${email}\n    `;\n        return {\n            success: true,\n            data: rows[0] || null\n        };\n    } catch (error) {\n        console.error(\"Error fetching user by email, falling back to memory:\", error);\n        // Fallback to in-memory storage\n        await ensureMemoryInitialized();\n        const user = memoryUsers.find((u)=>u.email === email);\n        if (user) {\n            return {\n                success: true,\n                data: {\n                    id: user.id,\n                    email: user.email,\n                    name: user.name,\n                    password: user.password,\n                    role: user.role,\n                    created_at: user.createdAt\n                }\n            };\n        }\n        return {\n            success: true,\n            data: null\n        };\n    }\n}\nasync function verifyPassword(password, hashedPassword) {\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].compare(password, hashedPassword);\n}\n// Cart functions\nasync function addToCart(userEmail, productId, quantity = 1) {\n    try {\n        const { rows } = await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      INSERT INTO cart_items (user_id, product_id, quantity)\n      VALUES (\n        (SELECT id FROM users WHERE email = ${userEmail}), \n        ${productId}, \n        ${quantity}\n      )\n      ON CONFLICT (user_id, product_id) \n      DO UPDATE SET quantity = cart_items.quantity + ${quantity}\n      RETURNING *\n    `;\n        return {\n            success: true,\n            data: rows[0]\n        };\n    } catch (error) {\n        console.error(\"Error adding to cart:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\nasync function getCartItems(userEmail) {\n    try {\n        const { rows } = await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      SELECT ci.id, ci.product_id as \"productId\", ci.quantity, \n             json_build_object(\n               'id', p.id,\n               'name', p.name,\n               'price', p.price,\n               'image', p.image\n             ) as product\n      FROM cart_items ci\n      JOIN products p ON ci.product_id = p.id\n      JOIN users u ON ci.user_id = u.id\n      WHERE u.email = ${userEmail}\n      ORDER BY ci.created_at DESC\n    `;\n        return {\n            success: true,\n            data: rows\n        };\n    } catch (error) {\n        console.error(\"Error fetching cart items:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\nasync function removeFromCart(userEmail, productId) {\n    try {\n        await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      DELETE FROM cart_items \n      WHERE user_id = (SELECT id FROM users WHERE email = ${userEmail}) \n      AND product_id = ${productId}\n    `;\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error(\"Error removing from cart:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\n// Admin functions\nasync function getAllUsers() {\n    try {\n        const { rows } = await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      SELECT id, email, name, role, created_at FROM users\n      ORDER BY created_at DESC\n    `;\n        return {\n            success: true,\n            data: rows\n        };\n    } catch (error) {\n        console.error(\"Error fetching users:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\nasync function createProduct(product) {\n    try {\n        const { rows } = await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      INSERT INTO products (name, description, price, image, category, rating, reviews)\n      VALUES (${product.name}, ${product.description}, ${product.price}, ${product.image}, ${product.category}, ${product.rating}, ${product.reviews})\n      RETURNING *\n    `;\n        return {\n            success: true,\n            data: rows[0]\n        };\n    } catch (error) {\n        console.error(\"Error creating product:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\nasync function updateProduct(id, product) {\n    try {\n        const { rows } = await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      UPDATE products \n      SET name = COALESCE(${product.name}, name),\n          description = COALESCE(${product.description}, description),\n          price = COALESCE(${product.price}, price),\n          image = COALESCE(${product.image}, image),\n          category = COALESCE(${product.category}, category),\n          rating = COALESCE(${product.rating}, rating),\n          reviews = COALESCE(${product.reviews}, reviews),\n          in_stock = COALESCE(${product.inStock}, in_stock)\n      WHERE id = ${id}\n      RETURNING *\n    `;\n        return {\n            success: true,\n            data: rows[0]\n        };\n    } catch (error) {\n        console.error(\"Error updating product:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\nasync function deleteProduct(id) {\n    try {\n        await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`DELETE FROM products WHERE id = ${id}`;\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error(\"Error deleting product:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\nasync function updateUser(id, updates) {\n    if (!isPostgresAvailable) {\n        await ensureMemoryInitialized();\n        // Memory fallback\n        const userIndex = memoryUsers.findIndex((user)=>user.id === id);\n        if (userIndex === -1) {\n            return {\n                success: false,\n                error: \"User not found\"\n            };\n        }\n        memoryUsers[userIndex] = {\n            ...memoryUsers[userIndex],\n            ...updates\n        };\n        return {\n            success: true,\n            data: memoryUsers[userIndex]\n        };\n    }\n    try {\n        const { rows } = await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      UPDATE users \n      SET name = COALESCE(${updates.name}, name),\n          email = COALESCE(${updates.email}, email),\n          role = COALESCE(${updates.role}, role)\n      WHERE id = ${id}\n      RETURNING id, email, name, role, created_at\n    `;\n        if (rows.length === 0) {\n            return {\n                success: false,\n                error: \"User not found\"\n            };\n        }\n        return {\n            success: true,\n            data: rows[0]\n        };\n    } catch (error) {\n        console.error(\"Error updating user:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\nasync function deleteUser(id) {\n    if (!isPostgresAvailable) {\n        await ensureMemoryInitialized();\n        // Memory fallback\n        const userIndex = memoryUsers.findIndex((user)=>user.id === id);\n        if (userIndex === -1) {\n            return {\n                success: false,\n                error: \"User not found\"\n            };\n        }\n        memoryUsers.splice(userIndex, 1);\n        return {\n            success: true\n        };\n    }\n    try {\n        const { rowCount } = await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`DELETE FROM users WHERE id = ${id}`;\n        if (rowCount === 0) {\n            return {\n                success: false,\n                error: \"User not found\"\n            };\n        }\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error(\"Error deleting user:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\n// Order management functions\nlet memoryOrders = [];\nasync function getAllOrders() {\n    if (!isPostgresAvailable) {\n        await ensureMemoryInitialized();\n        // Memory fallback with sample orders\n        if (memoryOrders.length === 0) {\n            memoryOrders = [\n                {\n                    id: 1,\n                    userId: 1,\n                    total: 299.99,\n                    status: \"delivered\",\n                    createdAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000) // 7 days ago\n                },\n                {\n                    id: 2,\n                    userId: 1,\n                    total: 149.99,\n                    status: \"shipped\",\n                    createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000) // 3 days ago\n                },\n                {\n                    id: 3,\n                    userId: 1,\n                    total: 79.99,\n                    status: \"processing\",\n                    createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000) // 1 day ago\n                },\n                {\n                    id: 4,\n                    userId: 1,\n                    total: 199.99,\n                    status: \"pending\",\n                    createdAt: new Date(Date.now() - 2 * 60 * 60 * 1000) // 2 hours ago\n                }\n            ];\n        }\n        return {\n            success: true,\n            data: memoryOrders\n        };\n    }\n    try {\n        const { rows } = await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      SELECT o.*, u.name as user_name, u.email as user_email\n      FROM orders o\n      JOIN users u ON o.user_id = u.id\n      ORDER BY o.created_at DESC\n    `;\n        return {\n            success: true,\n            data: rows\n        };\n    } catch (error) {\n        console.error(\"Error fetching orders:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\nasync function updateOrderStatus(id, status) {\n    if (!isPostgresAvailable) {\n        await ensureMemoryInitialized();\n        // Memory fallback\n        const orderIndex = memoryOrders.findIndex((order)=>order.id === id);\n        if (orderIndex === -1) {\n            return {\n                success: false,\n                error: \"Order not found\"\n            };\n        }\n        memoryOrders[orderIndex].status = status;\n        return {\n            success: true,\n            data: memoryOrders[orderIndex]\n        };\n    }\n    try {\n        const { rows } = await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`\n      UPDATE orders \n      SET status = ${status}\n      WHERE id = ${id}\n      RETURNING *\n    `;\n        if (rows.length === 0) {\n            return {\n                success: false,\n                error: \"Order not found\"\n            };\n        }\n        return {\n            success: true,\n            data: rows[0]\n        };\n    } catch (error) {\n        console.error(\"Error updating order status:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\nasync function deleteOrder(id) {\n    if (!isPostgresAvailable) {\n        await ensureMemoryInitialized();\n        // Memory fallback\n        const orderIndex = memoryOrders.findIndex((order)=>order.id === id);\n        if (orderIndex === -1) {\n            return {\n                success: false,\n                error: \"Order not found\"\n            };\n        }\n        memoryOrders.splice(orderIndex, 1);\n        return {\n            success: true\n        };\n    }\n    try {\n        const { rowCount } = await _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql`DELETE FROM orders WHERE id = ${id}`;\n        if (rowCount === 0) {\n            return {\n                success: false,\n                error: \"Order not found\"\n            };\n        }\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error(\"Error deleting order:\", error);\n        return {\n            success: false,\n            error\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPO2lCQUNYLEVBQUVuRixHQUFHOztJQUVsQixDQUFDO1FBRUQsSUFBSW9DLEtBQUtpQixNQUFNLEtBQUssR0FBRztZQUNyQixPQUFPO2dCQUFFeEIsU0FBUztnQkFBT0gsT0FBTztZQUFrQjtRQUNwRDtRQUVBLE9BQU87WUFBRUcsU0FBUztZQUFNTSxNQUFNQyxJQUFJLENBQUMsRUFBRTtRQUFDO0lBQ3hDLEVBQUUsT0FBT1YsT0FBTztRQUNkSCxRQUFRRyxLQUFLLENBQUMsZ0NBQWdDQTtRQUM5QyxPQUFPO1lBQUVHLFNBQVM7WUFBT0g7UUFBTTtJQUNqQztBQUNGO0FBRU8sZUFBZThELFlBQVl4RixFQUFVO0lBQzFDLElBQUksQ0FBQ2tCLHFCQUFxQjtRQUN4QixNQUFNUztRQUNOLGtCQUFrQjtRQUNsQixNQUFNMkQsYUFBYVAsYUFBYUosU0FBUyxDQUFDWSxDQUFBQSxRQUFTQSxNQUFNdkYsRUFBRSxLQUFLQTtRQUNoRSxJQUFJc0YsZUFBZSxDQUFDLEdBQUc7WUFDckIsT0FBTztnQkFBRXpELFNBQVM7Z0JBQU9ILE9BQU87WUFBa0I7UUFDcEQ7UUFFQXFELGFBQWFGLE1BQU0sQ0FBQ1MsWUFBWTtRQUNoQyxPQUFPO1lBQUV6RCxTQUFTO1FBQUs7SUFDekI7SUFFQSxJQUFJO1FBQ0YsTUFBTSxFQUFFaUQsUUFBUSxFQUFFLEdBQUcsTUFBTXhGLGlEQUFHLENBQUMsOEJBQThCLEVBQUVVLEdBQUcsQ0FBQztRQUVuRSxJQUFJOEUsYUFBYSxHQUFHO1lBQ2xCLE9BQU87Z0JBQUVqRCxTQUFTO2dCQUFPSCxPQUFPO1lBQWtCO1FBQ3BEO1FBRUEsT0FBTztZQUFFRyxTQUFTO1FBQUs7SUFDekIsRUFBRSxPQUFPSCxPQUFPO1FBQ2RILFFBQVFHLEtBQUssQ0FBQyx5QkFBeUJBO1FBQ3ZDLE9BQU87WUFBRUcsU0FBUztZQUFPSDtRQUFNO0lBQ2pDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kYXktbmlnaHQtaW5jLy4vbGliL2RiLnRzPzFkZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3FsIH0gZnJvbSAnQHZlcmNlbC9wb3N0Z3Jlcyc7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJztcblxuLy8gQ2hlY2sgaWYgUG9zdGdyZXMgaXMgcHJvcGVybHkgY29uZmlndXJlZFxuZnVuY3Rpb24gY2hlY2tQb3N0Z3Jlc0Nvbm5lY3Rpb24oKSB7XG4gIGNvbnN0IHBvc3RncmVzVXJsID0gcHJvY2Vzcy5lbnYuUE9TVEdSRVNfVVJMO1xuICByZXR1cm4gcG9zdGdyZXNVcmwgJiYgIXBvc3RncmVzVXJsLmluY2x1ZGVzKCd1c2VybmFtZScpICYmICFwb3N0Z3Jlc1VybC5pbmNsdWRlcygncGFzc3dvcmQnKTtcbn1cblxuLy8gSW5pdGlhbGl6ZSBtZW1vcnkgZGF0YSBmb3IgZGV2ZWxvcG1lbnRcbmFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVNZW1vcnlEYXRhKCkge1xuICBtZW1vcnlQcm9kdWN0cyA9IFtcbiAgICB7XG4gICAgICBpZDogMSxcbiAgICAgIG5hbWU6ICdXaXJlbGVzcyBIZWFkcGhvbmVzJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnSGlnaC1xdWFsaXR5IHdpcmVsZXNzIGhlYWRwaG9uZXMgd2l0aCBub2lzZSBjYW5jZWxsYXRpb24nLFxuICAgICAgcHJpY2U6IDE5OS45OSxcbiAgICAgIGltYWdlOiAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1MDU3NDA0MjA5MjgtNWU1NjBjMDZkMzBlP3c9NDAwJyxcbiAgICAgIGNhdGVnb3J5OiAnRWxlY3Ryb25pY3MnLFxuICAgICAgcmF0aW5nOiA0LjUsXG4gICAgICByZXZpZXdzOiAxMjgsXG4gICAgICBpblN0b2NrOiB0cnVlXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogMixcbiAgICAgIG5hbWU6ICdTbWFydCBXYXRjaCcsXG4gICAgICBkZXNjcmlwdGlvbjogJ0ZlYXR1cmUtcmljaCBzbWFydHdhdGNoIHdpdGggaGVhbHRoIG1vbml0b3JpbmcnLFxuICAgICAgcHJpY2U6IDI5OS45OSxcbiAgICAgIGltYWdlOiAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1MjMyNzUzMzU2ODQtMzc4OThiNmJhZjMwP3c9NDAwJyxcbiAgICAgIGNhdGVnb3J5OiAnRWxlY3Ryb25pY3MnLFxuICAgICAgcmF0aW5nOiA0LjMsXG4gICAgICByZXZpZXdzOiA4OSxcbiAgICAgIGluU3RvY2s6IHRydWVcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAzLFxuICAgICAgbmFtZTogJ0xhcHRvcCBCYWNrcGFjaycsXG4gICAgICBkZXNjcmlwdGlvbjogJ0R1cmFibGUgbGFwdG9wIGJhY2twYWNrIHdpdGggbXVsdGlwbGUgY29tcGFydG1lbnRzJyxcbiAgICAgIHByaWNlOiA3OS45OSxcbiAgICAgIGltYWdlOiAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1NTMwNjI0MDctOThlZWI2NGM2YTYyP3c9NDAwJyxcbiAgICAgIGNhdGVnb3J5OiAnQWNjZXNzb3JpZXMnLFxuICAgICAgcmF0aW5nOiA0LjcsXG4gICAgICByZXZpZXdzOiAxNTYsXG4gICAgICBpblN0b2NrOiB0cnVlXG4gICAgfVxuICBdO1xuXG4gIG1lbW9yeUNhdGVnb3JpZXMgPSBbXG4gICAge1xuICAgICAgaWQ6IDEsXG4gICAgICBuYW1lOiAnRWxlY3Ryb25pY3MnLFxuICAgICAgZGVzY3JpcHRpb246ICdMYXRlc3QgZ2FkZ2V0cyBhbmQgZWxlY3Ryb25pYyBkZXZpY2VzJyxcbiAgICAgIGltYWdlOiAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE0OTgwNDk3OTQ1NjEtNzc4MGU3MjMxNjYxP3c9NDAwJ1xuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IDIsXG4gICAgICBuYW1lOiAnQWNjZXNzb3JpZXMnLFxuICAgICAgZGVzY3JpcHRpb246ICdFc3NlbnRpYWwgYWNjZXNzb3JpZXMgZm9yIGRhaWx5IHVzZScsXG4gICAgICBpbWFnZTogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTUzMDYyNDA3LTk4ZWViNjRjNmE2Mj93PTQwMCdcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAzLFxuICAgICAgbmFtZTogJ0hvbWUgJiBHYXJkZW4nLFxuICAgICAgZGVzY3JpcHRpb246ICdFdmVyeXRoaW5nIGZvciB5b3VyIGhvbWUgYW5kIGdhcmRlbicsXG4gICAgICBpbWFnZTogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTg2MDIzNDkyMTI1LTI3YjJjMDQ1ZWZkNz93PTQwMCdcbiAgICB9XG4gIF07XG5cbiAgLy8gQ3JlYXRlIGRlZmF1bHQgYWRtaW4gdXNlciBmb3IgZGV2ZWxvcG1lbnRcbiAgY29uc3QgYWRtaW5QYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKCdhZG1pbjEyMycsIDEwKTtcbiAgbWVtb3J5VXNlcnMgPSBbXG4gICAge1xuICAgICAgaWQ6IDEsXG4gICAgICBlbWFpbDogJ2FkbWluQGRheW5uaWdodC5jb20nLFxuICAgICAgbmFtZTogJ0FkbWluIFVzZXInLFxuICAgICAgcGFzc3dvcmQ6IGFkbWluUGFzc3dvcmQsXG4gICAgICByb2xlOiAnYWRtaW4nLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgfVxuICBdO1xufVxuXG4vLyBGb3IgZGV2ZWxvcG1lbnQsIHdlJ2xsIHVzZSBhIHNpbXBsZSBpbi1tZW1vcnkgZmFsbGJhY2sgd2hlbiBQb3N0Z3JlcyBpcyBub3QgYXZhaWxhYmxlXG5sZXQgaXNQb3N0Z3Jlc0F2YWlsYWJsZSA9IGNoZWNrUG9zdGdyZXNDb25uZWN0aW9uKCk7XG5cbi8vIFNpbXBsZSBpbi1tZW1vcnkgc3RvcmFnZSBmb3IgZGV2ZWxvcG1lbnRcbmxldCBtZW1vcnlQcm9kdWN0czogUHJvZHVjdFtdID0gW107XG5sZXQgbWVtb3J5Q2F0ZWdvcmllczogQ2F0ZWdvcnlbXSA9IFtdO1xubGV0IG1lbW9yeVVzZXJzOiBVc2VyW10gPSBbXTtcbmxldCBtZW1vcnlDYXJ0SXRlbXM6IENhcnRJdGVtW10gPSBbXTtcblxuLy8gVHJhY2sgaW5pdGlhbGl6YXRpb24gc3RhdHVzXG5sZXQgbWVtb3J5SW5pdGlhbGl6ZWQgPSBmYWxzZTtcbmxldCBpbml0aWFsaXphdGlvblByb21pc2U6IFByb21pc2U8dm9pZD4gfCBudWxsID0gbnVsbDtcblxuLy8gSW5pdGlhbGl6ZSBtZW1vcnkgZGF0YSBpbW1lZGlhdGVseSBpZiBQb3N0Z3JlcyBpcyBub3QgYXZhaWxhYmxlXG5pZiAoIWlzUG9zdGdyZXNBdmFpbGFibGUpIHtcbiAgaW5pdGlhbGl6YXRpb25Qcm9taXNlID0gaW5pdGlhbGl6ZU1lbW9yeURhdGEoKS50aGVuKCgpID0+IHtcbiAgICBtZW1vcnlJbml0aWFsaXplZCA9IHRydWU7XG4gICAgY29uc29sZS5sb2coJ0luLW1lbW9yeSBkYXRhYmFzZSBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHknKTtcbiAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIGluLW1lbW9yeSBkYXRhYmFzZTonLCBlcnJvcik7XG4gIH0pO1xufVxuXG4vLyBFbnN1cmUgaW5pdGlhbGl6YXRpb24gaXMgY29tcGxldGUgYmVmb3JlIGFueSBkYXRhYmFzZSBvcGVyYXRpb25zXG5hc3luYyBmdW5jdGlvbiBlbnN1cmVNZW1vcnlJbml0aWFsaXplZCgpIHtcbiAgaWYgKCFpc1Bvc3RncmVzQXZhaWxhYmxlICYmICFtZW1vcnlJbml0aWFsaXplZCkge1xuICAgIGlmIChpbml0aWFsaXphdGlvblByb21pc2UpIHtcbiAgICAgIGF3YWl0IGluaXRpYWxpemF0aW9uUHJvbWlzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXdhaXQgaW5pdGlhbGl6ZU1lbW9yeURhdGEoKTtcbiAgICAgIG1lbW9yeUluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm9kdWN0IHtcbiAgaWQ6IG51bWJlcjtcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBwcmljZTogbnVtYmVyO1xuICBpbWFnZTogc3RyaW5nO1xuICBjYXRlZ29yeTogc3RyaW5nO1xuICByYXRpbmc6IG51bWJlcjtcbiAgcmV2aWV3czogbnVtYmVyO1xuICBpblN0b2NrOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhdGVnb3J5IHtcbiAgaWQ6IG51bWJlcjtcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBpbWFnZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xuICBpZDogbnVtYmVyO1xuICBlbWFpbDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHBhc3N3b3JkOiBzdHJpbmc7XG4gIHJvbGU6ICd1c2VyJyB8ICdhZG1pbic7XG4gIGNyZWF0ZWRBdDogRGF0ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJ0SXRlbSB7XG4gIGlkOiBudW1iZXI7XG4gIHVzZXJJZDogbnVtYmVyO1xuICBwcm9kdWN0SWQ6IG51bWJlcjtcbiAgcXVhbnRpdHk6IG51bWJlcjtcbiAgY3JlYXRlZEF0OiBEYXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9yZGVyIHtcbiAgaWQ6IG51bWJlcjtcbiAgdXNlcklkOiBudW1iZXI7XG4gIHRvdGFsOiBudW1iZXI7XG4gIHN0YXR1czogJ3BlbmRpbmcnIHwgJ3Byb2Nlc3NpbmcnIHwgJ3NoaXBwZWQnIHwgJ2RlbGl2ZXJlZCc7XG4gIGNyZWF0ZWRBdDogRGF0ZTtcbn1cblxuLy8gSW5pdGlhbGl6ZSBkYXRhYmFzZSB0YWJsZXNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplRGF0YWJhc2UoKSB7XG4gIC8vIENoZWNrIGlmIFBvc3RncmVzIGlzIHByb3Blcmx5IGNvbmZpZ3VyZWRcbiAgaWYgKCFpc1Bvc3RncmVzQXZhaWxhYmxlKSB7XG4gICAgY29uc29sZS5sb2coJ1Bvc3RncmVzIG5vdCBjb25maWd1cmVkLCB1c2luZyBpbi1tZW1vcnkgc3RvcmFnZSBmb3IgZGV2ZWxvcG1lbnQnKTtcbiAgICAvLyBJbml0aWFsaXplIHdpdGggc2FtcGxlIGRhdGFcbiAgICBpbml0aWFsaXplTWVtb3J5RGF0YSgpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gQ3JlYXRlIHByb2R1Y3RzIHRhYmxlXG4gICAgYXdhaXQgc3FsYFxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgcHJvZHVjdHMgKFxuICAgICAgICBpZCBTRVJJQUwgUFJJTUFSWSBLRVksXG4gICAgICAgIG5hbWUgVkFSQ0hBUigyNTUpIE5PVCBOVUxMLFxuICAgICAgICBkZXNjcmlwdGlvbiBURVhULFxuICAgICAgICBwcmljZSBERUNJTUFMKDEwLCAyKSBOT1QgTlVMTCxcbiAgICAgICAgaW1hZ2UgVkFSQ0hBUig1MDApLFxuICAgICAgICBjYXRlZ29yeSBWQVJDSEFSKDEwMCksXG4gICAgICAgIHJhdGluZyBERUNJTUFMKDIsIDEpIERFRkFVTFQgMCxcbiAgICAgICAgcmV2aWV3cyBJTlRFR0VSIERFRkFVTFQgMCxcbiAgICAgICAgaW5fc3RvY2sgQk9PTEVBTiBERUZBVUxUIHRydWUsXG4gICAgICAgIGNyZWF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVBcbiAgICAgIClcbiAgICBgO1xuXG4gICAgLy8gQ3JlYXRlIGNhdGVnb3JpZXMgdGFibGVcbiAgICBhd2FpdCBzcWxgXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBjYXRlZ29yaWVzIChcbiAgICAgICAgaWQgU0VSSUFMIFBSSU1BUlkgS0VZLFxuICAgICAgICBuYW1lIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCBVTklRVUUsXG4gICAgICAgIGRlc2NyaXB0aW9uIFRFWFQsXG4gICAgICAgIGltYWdlIFZBUkNIQVIoNTAwKSxcbiAgICAgICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUFxuICAgICAgKVxuICAgIGA7XG5cbiAgICAvLyBDcmVhdGUgdXNlcnMgdGFibGVcbiAgICBhd2FpdCBzcWxgXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyB1c2VycyAoXG4gICAgICAgIGlkIFNFUklBTCBQUklNQVJZIEtFWSxcbiAgICAgICAgZW1haWwgVkFSQ0hBUigyNTUpIE5PVCBOVUxMIFVOSVFVRSxcbiAgICAgICAgbmFtZSBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXG4gICAgICAgIHBhc3N3b3JkIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcbiAgICAgICAgcm9sZSBWQVJDSEFSKDIwKSBERUZBVUxUICd1c2VyJyxcbiAgICAgICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUFxuICAgICAgKVxuICAgIGA7XG5cbiAgICAvLyBDcmVhdGUgY2FydF9pdGVtcyB0YWJsZVxuICAgIGF3YWl0IHNxbGBcbiAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGNhcnRfaXRlbXMgKFxuICAgICAgICBpZCBTRVJJQUwgUFJJTUFSWSBLRVksXG4gICAgICAgIHVzZXJfaWQgSU5URUdFUiBSRUZFUkVOQ0VTIHVzZXJzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERSxcbiAgICAgICAgcHJvZHVjdF9pZCBJTlRFR0VSIFJFRkVSRU5DRVMgcHJvZHVjdHMoaWQpIE9OIERFTEVURSBDQVNDQURFLFxuICAgICAgICBxdWFudGl0eSBJTlRFR0VSIE5PVCBOVUxMIERFRkFVTFQgMSxcbiAgICAgICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUFxuICAgICAgKVxuICAgIGA7XG5cbiAgICAvLyBDcmVhdGUgb3JkZXJzIHRhYmxlXG4gICAgYXdhaXQgc3FsYFxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgb3JkZXJzIChcbiAgICAgICAgaWQgU0VSSUFMIFBSSU1BUlkgS0VZLFxuICAgICAgICB1c2VyX2lkIElOVEVHRVIgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIENBU0NBREUsXG4gICAgICAgIHRvdGFsIERFQ0lNQUwoMTAsIDIpIE5PVCBOVUxMLFxuICAgICAgICBzdGF0dXMgVkFSQ0hBUigyMCkgREVGQVVMVCAncGVuZGluZycsXG4gICAgICAgIGNyZWF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVBcbiAgICAgIClcbiAgICBgO1xuXG4gICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIHRhYmxlcyBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHknKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhbGl6aW5nIGRhdGFiYXNlOicsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfTtcbiAgfVxufVxuXG4vLyBTZWVkIGluaXRpYWwgZGF0YVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlZWREYXRhYmFzZSgpIHtcbiAgdHJ5IHtcbiAgICAvLyBJbnNlcnQgc2FtcGxlIGNhdGVnb3JpZXNcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gW1xuICAgICAge1xuICAgICAgICBuYW1lOiAnRWxlY3Ryb25pY3MnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0xhdGVzdCBnYWRnZXRzIGFuZCBlbGVjdHJvbmljIGRldmljZXMnLFxuICAgICAgICBpbWFnZTogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNDk4MDQ5Nzk0NTYxLTc3ODBlNzIzMTY2MT93PTQwMCcsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnQ2xvdGhpbmcnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Zhc2hpb24gYW5kIGFwcGFyZWwgZm9yIGFsbCBvY2Nhc2lvbnMnLFxuICAgICAgICBpbWFnZTogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNDQxOTg2MzAwOTE3LTY0Njc0YmQ2MDBkOD93PTQwMCcsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnSG9tZSAmIEdhcmRlbicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRXZlcnl0aGluZyBmb3IgeW91ciBob21lIGFuZCBnYXJkZW4nLFxuICAgICAgICBpbWFnZTogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTg2MDIzNDkyMTI1LTI3YjJjMDQ1ZWZkNz93PTQwMCcsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnU3BvcnRzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdTcG9ydHMgZXF1aXBtZW50IGFuZCBmaXRuZXNzIGdlYXInLFxuICAgICAgICBpbWFnZTogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTcxMDE5NjEzNDU0LTFjYjJmOTliMmQ4Yj93PTQwMCcsXG4gICAgICB9LFxuICAgIF07XG5cbiAgICBmb3IgKGNvbnN0IGNhdGVnb3J5IG9mIGNhdGVnb3JpZXMpIHtcbiAgICAgIGF3YWl0IHNxbGBcbiAgICAgICAgSU5TRVJUIElOVE8gY2F0ZWdvcmllcyAobmFtZSwgZGVzY3JpcHRpb24sIGltYWdlKVxuICAgICAgICBWQUxVRVMgKCR7Y2F0ZWdvcnkubmFtZX0sICR7Y2F0ZWdvcnkuZGVzY3JpcHRpb259LCAke2NhdGVnb3J5LmltYWdlfSlcbiAgICAgICAgT04gQ09ORkxJQ1QgKG5hbWUpIERPIE5PVEhJTkdcbiAgICAgIGA7XG4gICAgfVxuXG4gICAgLy8gSW5zZXJ0IHNhbXBsZSBwcm9kdWN0c1xuICAgIGNvbnN0IHByb2R1Y3RzID0gW1xuICAgICAge1xuICAgICAgICBuYW1lOiAnV2lyZWxlc3MgSGVhZHBob25lcycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnSGlnaC1xdWFsaXR5IHdpcmVsZXNzIGhlYWRwaG9uZXMgd2l0aCBub2lzZSBjYW5jZWxsYXRpb24nLFxuICAgICAgICBwcmljZTogMTk5Ljk5LFxuICAgICAgICBpbWFnZTogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTA1NzQwNDIwOTI4LTVlNTYwYzA2ZDMwZT93PTQwMCcsXG4gICAgICAgIGNhdGVnb3J5OiAnRWxlY3Ryb25pY3MnLFxuICAgICAgICByYXRpbmc6IDQuNSxcbiAgICAgICAgcmV2aWV3czogMTI4LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ1NtYXJ0IFdhdGNoJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGZWF0dXJlLXJpY2ggc21hcnR3YXRjaCB3aXRoIGhlYWx0aCBtb25pdG9yaW5nJyxcbiAgICAgICAgcHJpY2U6IDI5OS45OSxcbiAgICAgICAgaW1hZ2U6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUyMzI3NTMzNTY4NC0zNzg5OGI2YmFmMzA/dz00MDAnLFxuICAgICAgICBjYXRlZ29yeTogJ0VsZWN0cm9uaWNzJyxcbiAgICAgICAgcmF0aW5nOiA0LjMsXG4gICAgICAgIHJldmlld3M6IDg5LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0Rlc2lnbmVyIFQtU2hpcnQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1ByZW1pdW0gY290dG9uIHQtc2hpcnQgd2l0aCBtb2Rlcm4gZGVzaWduJyxcbiAgICAgICAgcHJpY2U6IDQ5Ljk5LFxuICAgICAgICBpbWFnZTogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTIxNTcyMTYzNDc0LTY4NjRmOWNmMTdhYj93PTQwMCcsXG4gICAgICAgIGNhdGVnb3J5OiAnQ2xvdGhpbmcnLFxuICAgICAgICByYXRpbmc6IDQuNyxcbiAgICAgICAgcmV2aWV3czogMjAzLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ1J1bm5pbmcgU2hvZXMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbWZvcnRhYmxlIHJ1bm5pbmcgc2hvZXMgZm9yIGFsbCB0ZXJyYWlucycsXG4gICAgICAgIHByaWNlOiAxMjkuOTksXG4gICAgICAgIGltYWdlOiAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1NDIyOTEwMjYtN2VlYzI2NGMyN2ZmP3c9NDAwJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdTcG9ydHMnLFxuICAgICAgICByYXRpbmc6IDQuNixcbiAgICAgICAgcmV2aWV3czogMTU2LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0NvZmZlZSBNYWtlcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQXV0b21hdGljIGNvZmZlZSBtYWtlciB3aXRoIHByb2dyYW1tYWJsZSBzZXR0aW5ncycsXG4gICAgICAgIHByaWNlOiA4OS45OSxcbiAgICAgICAgaW1hZ2U6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTQ5NTQ3NDQ3MjI4Ny00ZDcxYmNkZDIwODU/dz00MDAnLFxuICAgICAgICBjYXRlZ29yeTogJ0hvbWUgJiBHYXJkZW4nLFxuICAgICAgICByYXRpbmc6IDQuNCxcbiAgICAgICAgcmV2aWV3czogNzQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnWW9nYSBNYXQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ05vbi1zbGlwIHlvZ2EgbWF0IGZvciBjb21mb3J0YWJsZSB3b3Jrb3V0cycsXG4gICAgICAgIHByaWNlOiAzOS45OSxcbiAgICAgICAgaW1hZ2U6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU0NDM2NzU2Ny0wZjJmY2IwMDllMGI/dz00MDAnLFxuICAgICAgICBjYXRlZ29yeTogJ1Nwb3J0cycsXG4gICAgICAgIHJhdGluZzogNC44LFxuICAgICAgICByZXZpZXdzOiAzMTIsXG4gICAgICB9LFxuICAgIF07XG5cbiAgICBmb3IgKGNvbnN0IHByb2R1Y3Qgb2YgcHJvZHVjdHMpIHtcbiAgICAgIGF3YWl0IHNxbGBcbiAgICAgICAgSU5TRVJUIElOVE8gcHJvZHVjdHMgKG5hbWUsIGRlc2NyaXB0aW9uLCBwcmljZSwgaW1hZ2UsIGNhdGVnb3J5LCByYXRpbmcsIHJldmlld3MpXG4gICAgICAgIFZBTFVFUyAoJHtwcm9kdWN0Lm5hbWV9LCAke3Byb2R1Y3QuZGVzY3JpcHRpb259LCAke3Byb2R1Y3QucHJpY2V9LCAke3Byb2R1Y3QuaW1hZ2V9LCAke3Byb2R1Y3QuY2F0ZWdvcnl9LCAke3Byb2R1Y3QucmF0aW5nfSwgJHtwcm9kdWN0LnJldmlld3N9KVxuICAgICAgICBPTiBDT05GTElDVCBETyBOT1RISU5HXG4gICAgICBgO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBkZWZhdWx0IGFkbWluIHVzZXJcbiAgICBjb25zdCBhZG1pblBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2goJ2FkbWluMTIzJywgMTApO1xuICAgIGF3YWl0IHNxbGBcbiAgICAgIElOU0VSVCBJTlRPIHVzZXJzIChlbWFpbCwgbmFtZSwgcGFzc3dvcmQsIHJvbGUpXG4gICAgICBWQUxVRVMgKCdhZG1pbkBkYXlubmlnaHQuY29tJywgJ0FkbWluIFVzZXInLCAke2FkbWluUGFzc3dvcmR9LCAnYWRtaW4nKVxuICAgICAgT04gQ09ORkxJQ1QgKGVtYWlsKSBETyBOT1RISU5HXG4gICAgYDtcblxuICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBzZWVkZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlZWRpbmcgZGF0YWJhc2U6JywgZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvciB9O1xuICB9XG59XG5cbi8vIEdldCBhbGwgcHJvZHVjdHNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9kdWN0cygpIHtcbiAgaWYgKCFpc1Bvc3RncmVzQXZhaWxhYmxlKSB7XG4gICAgYXdhaXQgZW5zdXJlTWVtb3J5SW5pdGlhbGl6ZWQoKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtZW1vcnlQcm9kdWN0cyB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IHJvd3MgfSA9IGF3YWl0IHNxbGBcbiAgICAgIFNFTEVDVCAqIEZST00gcHJvZHVjdHMgXG4gICAgICBPUkRFUiBCWSBjcmVhdGVkX2F0IERFU0NcbiAgICBgO1xuICAgIFxuICAgIC8vIENvbnZlcnQgcHJpY2UgZnJvbSBzdHJpbmcgdG8gbnVtYmVyIChQb3N0Z3JlU1FMIERFQ0lNQUwgcmV0dXJucyBhcyBzdHJpbmcpXG4gICAgY29uc3QgcHJvZHVjdHMgPSByb3dzLm1hcChyb3cgPT4gKHtcbiAgICAgIC4uLnJvdyxcbiAgICAgIHByaWNlOiBwYXJzZUZsb2F0KHJvdy5wcmljZSksXG4gICAgICByYXRpbmc6IHBhcnNlRmxvYXQocm93LnJhdGluZylcbiAgICB9KSk7XG4gICAgXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcHJvZHVjdHMgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcm9kdWN0czonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yIH07XG4gIH1cbn1cblxuLy8gR2V0IGFsbCBjYXRlZ29yaWVzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q2F0ZWdvcmllcygpIHtcbiAgaWYgKCFpc1Bvc3RncmVzQXZhaWxhYmxlKSB7XG4gICAgYXdhaXQgZW5zdXJlTWVtb3J5SW5pdGlhbGl6ZWQoKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBtZW1vcnlDYXRlZ29yaWVzIH07XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHsgcm93cyB9ID0gYXdhaXQgc3FsYFxuICAgICAgU0VMRUNUICogRlJPTSBjYXRlZ29yaWVzIFxuICAgICAgT1JERVIgQlkgbmFtZSBBU0NcbiAgICBgO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJvd3MgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBjYXRlZ29yaWVzOicsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfTtcbiAgfVxufVxuXG4vLyBHZXQgcHJvZHVjdHMgYnkgY2F0ZWdvcnlcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9kdWN0c0J5Q2F0ZWdvcnkoY2F0ZWdvcnk6IHN0cmluZykge1xuICBpZiAoIWlzUG9zdGdyZXNBdmFpbGFibGUpIHtcbiAgICBhd2FpdCBlbnN1cmVNZW1vcnlJbml0aWFsaXplZCgpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1lbW9yeVByb2R1Y3RzLmZpbHRlcihwID0+IHAuY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSA9PT0gY2F0ZWdvcnkudG9Mb3dlckNhc2UoKSkgfTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyByb3dzIH0gPSBhd2FpdCBzcWxgXG4gICAgICBTRUxFQ1QgKiBGUk9NIHByb2R1Y3RzIFxuICAgICAgV0hFUkUgTE9XRVIoY2F0ZWdvcnkpID0gTE9XRVIoJHtjYXRlZ29yeX0pXG4gICAgICBPUkRFUiBCWSBjcmVhdGVkX2F0IERFU0NcbiAgICBgO1xuICAgIFxuICAgIC8vIENvbnZlcnQgcHJpY2UgZnJvbSBzdHJpbmcgdG8gbnVtYmVyIChQb3N0Z3JlU1FMIERFQ0lNQUwgcmV0dXJucyBhcyBzdHJpbmcpXG4gICAgY29uc3QgcHJvZHVjdHMgPSByb3dzLm1hcChyb3cgPT4gKHtcbiAgICAgIC4uLnJvdyxcbiAgICAgIHByaWNlOiBwYXJzZUZsb2F0KHJvdy5wcmljZSksXG4gICAgICByYXRpbmc6IHBhcnNlRmxvYXQocm93LnJhdGluZylcbiAgICB9KSk7XG4gICAgXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcHJvZHVjdHMgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwcm9kdWN0cyBieSBjYXRlZ29yeTonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yIH07XG4gIH1cbn1cblxuLy8gU2VhcmNoIHByb2R1Y3RzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VhcmNoUHJvZHVjdHMocXVlcnk6IHN0cmluZykge1xuICBpZiAoIWlzUG9zdGdyZXNBdmFpbGFibGUpIHtcbiAgICBhd2FpdCBlbnN1cmVNZW1vcnlJbml0aWFsaXplZCgpO1xuICAgIHJldHVybiB7IFxuICAgICAgc3VjY2VzczogdHJ1ZSwgXG4gICAgICBkYXRhOiBtZW1vcnlQcm9kdWN0cy5maWx0ZXIocCA9PiBcbiAgICAgICAgcC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkudG9Mb3dlckNhc2UoKSkgfHxcbiAgICAgICAgcC5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpIHx8XG4gICAgICAgIHAuY2F0ZWdvcnkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKVxuICAgICAgKSBcbiAgICB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IHJvd3MgfSA9IGF3YWl0IHNxbGBcbiAgICAgIFNFTEVDVCAqIEZST00gcHJvZHVjdHMgXG4gICAgICBXSEVSRSBuYW1lIElMSUtFICR7YCUke3F1ZXJ5fSVgfSBcbiAgICAgICAgIE9SIGRlc2NyaXB0aW9uIElMSUtFICR7YCUke3F1ZXJ5fSVgfVxuICAgICAgICAgT1IgY2F0ZWdvcnkgSUxJS0UgJHtgJSR7cXVlcnl9JWB9XG4gICAgICBPUkRFUiBCWSBjcmVhdGVkX2F0IERFU0NcbiAgICBgO1xuICAgIFxuICAgIC8vIENvbnZlcnQgcHJpY2UgZnJvbSBzdHJpbmcgdG8gbnVtYmVyIChQb3N0Z3JlU1FMIERFQ0lNQUwgcmV0dXJucyBhcyBzdHJpbmcpXG4gICAgY29uc3QgcHJvZHVjdHMgPSByb3dzLm1hcChyb3cgPT4gKHtcbiAgICAgIC4uLnJvdyxcbiAgICAgIHByaWNlOiBwYXJzZUZsb2F0KHJvdy5wcmljZSksXG4gICAgICByYXRpbmc6IHBhcnNlRmxvYXQocm93LnJhdGluZylcbiAgICB9KSk7XG4gICAgXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcHJvZHVjdHMgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZWFyY2hpbmcgcHJvZHVjdHM6JywgZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvciB9O1xuICB9XG59XG5cbi8vIFVzZXIgYXV0aGVudGljYXRpb24gZnVuY3Rpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVXNlcihlbWFpbDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpIHtcbiAgLy8gQ2hlY2sgaWYgUG9zdGdyZXMgaXMgYXZhaWxhYmxlXG4gIGlmICghaXNQb3N0Z3Jlc0F2YWlsYWJsZSkge1xuICAgIGF3YWl0IGVuc3VyZU1lbW9yeUluaXRpYWxpemVkKCk7XG4gICAgLy8gVXNlIGluLW1lbW9yeSBzdG9yYWdlIGZvciBkZXZlbG9wbWVudFxuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDEwKTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiB1c2VyIGFscmVhZHkgZXhpc3RzXG4gICAgY29uc3QgZXhpc3RpbmdVc2VyID0gbWVtb3J5VXNlcnMuZmluZCh1c2VyID0+IHVzZXIuZW1haWwgPT09IGVtYWlsKTtcbiAgICBpZiAoZXhpc3RpbmdVc2VyKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdVc2VyIGFscmVhZHkgZXhpc3RzJyB9O1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBuZXdVc2VyID0ge1xuICAgICAgaWQ6IG1lbW9yeVVzZXJzLmxlbmd0aCArIDEsXG4gICAgICBlbWFpbCxcbiAgICAgIG5hbWUsXG4gICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsXG4gICAgICByb2xlOiAndXNlcicgYXMgY29uc3QsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICB9O1xuICAgIFxuICAgIG1lbW9yeVVzZXJzLnB1c2gobmV3VXNlcik7XG4gICAgXG4gICAgLy8gUmV0dXJuIHVzZXIgd2l0aG91dCBwYXNzd29yZFxuICAgIGNvbnN0IHsgcGFzc3dvcmQ6IF8sIC4uLnVzZXJXaXRob3V0UGFzc3dvcmQgfSA9IG5ld1VzZXI7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXNlcldpdGhvdXRQYXNzd29yZCB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMCk7XG4gICAgY29uc3QgeyByb3dzIH0gPSBhd2FpdCBzcWxgXG4gICAgICBJTlNFUlQgSU5UTyB1c2VycyAoZW1haWwsIG5hbWUsIHBhc3N3b3JkLCByb2xlKVxuICAgICAgVkFMVUVTICgke2VtYWlsfSwgJHtuYW1lfSwgJHtoYXNoZWRQYXNzd29yZH0sICd1c2VyJylcbiAgICAgIFJFVFVSTklORyBpZCwgZW1haWwsIG5hbWUsIHJvbGUsIGNyZWF0ZWRfYXRcbiAgICBgO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJvd3NbMF0gfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyB1c2VyOicsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckJ5RW1haWwoZW1haWw6IHN0cmluZykge1xuICBpZiAoIWlzUG9zdGdyZXNBdmFpbGFibGUpIHtcbiAgICBhd2FpdCBlbnN1cmVNZW1vcnlJbml0aWFsaXplZCgpO1xuICAgIGNvbnN0IHVzZXIgPSBtZW1vcnlVc2Vycy5maW5kKHUgPT4gdS5lbWFpbCA9PT0gZW1haWwpO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICByZXR1cm4geyBcbiAgICAgICAgc3VjY2VzczogdHJ1ZSwgXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgcGFzc3dvcmQ6IHVzZXIucGFzc3dvcmQsXG4gICAgICAgICAgcm9sZTogdXNlci5yb2xlLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IHVzZXIuY3JlYXRlZEF0XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG51bGwgfTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyByb3dzIH0gPSBhd2FpdCBzcWxgXG4gICAgICBTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIGVtYWlsID0gJHtlbWFpbH1cbiAgICBgO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJvd3NbMF0gfHwgbnVsbCB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgYnkgZW1haWwsIGZhbGxpbmcgYmFjayB0byBtZW1vcnk6JywgZXJyb3IpO1xuICAgIFxuICAgIC8vIEZhbGxiYWNrIHRvIGluLW1lbW9yeSBzdG9yYWdlXG4gICAgYXdhaXQgZW5zdXJlTWVtb3J5SW5pdGlhbGl6ZWQoKTtcbiAgICBjb25zdCB1c2VyID0gbWVtb3J5VXNlcnMuZmluZCh1ID0+IHUuZW1haWwgPT09IGVtYWlsKTtcbiAgICBpZiAodXNlcikge1xuICAgICAgcmV0dXJuIHsgXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsIFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgIHBhc3N3b3JkOiB1c2VyLnBhc3N3b3JkLFxuICAgICAgICAgIHJvbGU6IHVzZXIucm9sZSxcbiAgICAgICAgICBjcmVhdGVkX2F0OiB1c2VyLmNyZWF0ZWRBdFxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBudWxsIH07XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeVBhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcsIGhhc2hlZFBhc3N3b3JkOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBoYXNoZWRQYXNzd29yZCk7XG59XG5cbi8vIENhcnQgZnVuY3Rpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkVG9DYXJ0KHVzZXJFbWFpbDogc3RyaW5nLCBwcm9kdWN0SWQ6IG51bWJlciwgcXVhbnRpdHk6IG51bWJlciA9IDEpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHJvd3MgfSA9IGF3YWl0IHNxbGBcbiAgICAgIElOU0VSVCBJTlRPIGNhcnRfaXRlbXMgKHVzZXJfaWQsIHByb2R1Y3RfaWQsIHF1YW50aXR5KVxuICAgICAgVkFMVUVTIChcbiAgICAgICAgKFNFTEVDVCBpZCBGUk9NIHVzZXJzIFdIRVJFIGVtYWlsID0gJHt1c2VyRW1haWx9KSwgXG4gICAgICAgICR7cHJvZHVjdElkfSwgXG4gICAgICAgICR7cXVhbnRpdHl9XG4gICAgICApXG4gICAgICBPTiBDT05GTElDVCAodXNlcl9pZCwgcHJvZHVjdF9pZCkgXG4gICAgICBETyBVUERBVEUgU0VUIHF1YW50aXR5ID0gY2FydF9pdGVtcy5xdWFudGl0eSArICR7cXVhbnRpdHl9XG4gICAgICBSRVRVUk5JTkcgKlxuICAgIGA7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcm93c1swXSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFkZGluZyB0byBjYXJ0OicsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q2FydEl0ZW1zKHVzZXJFbWFpbDogc3RyaW5nKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyByb3dzIH0gPSBhd2FpdCBzcWxgXG4gICAgICBTRUxFQ1QgY2kuaWQsIGNpLnByb2R1Y3RfaWQgYXMgXCJwcm9kdWN0SWRcIiwgY2kucXVhbnRpdHksIFxuICAgICAgICAgICAgIGpzb25fYnVpbGRfb2JqZWN0KFxuICAgICAgICAgICAgICAgJ2lkJywgcC5pZCxcbiAgICAgICAgICAgICAgICduYW1lJywgcC5uYW1lLFxuICAgICAgICAgICAgICAgJ3ByaWNlJywgcC5wcmljZSxcbiAgICAgICAgICAgICAgICdpbWFnZScsIHAuaW1hZ2VcbiAgICAgICAgICAgICApIGFzIHByb2R1Y3RcbiAgICAgIEZST00gY2FydF9pdGVtcyBjaVxuICAgICAgSk9JTiBwcm9kdWN0cyBwIE9OIGNpLnByb2R1Y3RfaWQgPSBwLmlkXG4gICAgICBKT0lOIHVzZXJzIHUgT04gY2kudXNlcl9pZCA9IHUuaWRcbiAgICAgIFdIRVJFIHUuZW1haWwgPSAke3VzZXJFbWFpbH1cbiAgICAgIE9SREVSIEJZIGNpLmNyZWF0ZWRfYXQgREVTQ1xuICAgIGA7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcm93cyB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNhcnQgaXRlbXM6JywgZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvciB9O1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmVGcm9tQ2FydCh1c2VyRW1haWw6IHN0cmluZywgcHJvZHVjdElkOiBudW1iZXIpIHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBzcWxgXG4gICAgICBERUxFVEUgRlJPTSBjYXJ0X2l0ZW1zIFxuICAgICAgV0hFUkUgdXNlcl9pZCA9IChTRUxFQ1QgaWQgRlJPTSB1c2VycyBXSEVSRSBlbWFpbCA9ICR7dXNlckVtYWlsfSkgXG4gICAgICBBTkQgcHJvZHVjdF9pZCA9ICR7cHJvZHVjdElkfVxuICAgIGA7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbW92aW5nIGZyb20gY2FydDonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yIH07XG4gIH1cbn1cblxuLy8gQWRtaW4gZnVuY3Rpb25zXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsVXNlcnMoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyByb3dzIH0gPSBhd2FpdCBzcWxgXG4gICAgICBTRUxFQ1QgaWQsIGVtYWlsLCBuYW1lLCByb2xlLCBjcmVhdGVkX2F0IEZST00gdXNlcnNcbiAgICAgIE9SREVSIEJZIGNyZWF0ZWRfYXQgREVTQ1xuICAgIGA7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcm93cyB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXJzOicsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUHJvZHVjdChwcm9kdWN0OiBPbWl0PFByb2R1Y3QsICdpZCc+KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyByb3dzIH0gPSBhd2FpdCBzcWxgXG4gICAgICBJTlNFUlQgSU5UTyBwcm9kdWN0cyAobmFtZSwgZGVzY3JpcHRpb24sIHByaWNlLCBpbWFnZSwgY2F0ZWdvcnksIHJhdGluZywgcmV2aWV3cylcbiAgICAgIFZBTFVFUyAoJHtwcm9kdWN0Lm5hbWV9LCAke3Byb2R1Y3QuZGVzY3JpcHRpb259LCAke3Byb2R1Y3QucHJpY2V9LCAke3Byb2R1Y3QuaW1hZ2V9LCAke3Byb2R1Y3QuY2F0ZWdvcnl9LCAke3Byb2R1Y3QucmF0aW5nfSwgJHtwcm9kdWN0LnJldmlld3N9KVxuICAgICAgUkVUVVJOSU5HICpcbiAgICBgO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJvd3NbMF0gfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBwcm9kdWN0OicsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlUHJvZHVjdChpZDogbnVtYmVyLCBwcm9kdWN0OiBQYXJ0aWFsPFByb2R1Y3Q+KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyByb3dzIH0gPSBhd2FpdCBzcWxgXG4gICAgICBVUERBVEUgcHJvZHVjdHMgXG4gICAgICBTRVQgbmFtZSA9IENPQUxFU0NFKCR7cHJvZHVjdC5uYW1lfSwgbmFtZSksXG4gICAgICAgICAgZGVzY3JpcHRpb24gPSBDT0FMRVNDRSgke3Byb2R1Y3QuZGVzY3JpcHRpb259LCBkZXNjcmlwdGlvbiksXG4gICAgICAgICAgcHJpY2UgPSBDT0FMRVNDRSgke3Byb2R1Y3QucHJpY2V9LCBwcmljZSksXG4gICAgICAgICAgaW1hZ2UgPSBDT0FMRVNDRSgke3Byb2R1Y3QuaW1hZ2V9LCBpbWFnZSksXG4gICAgICAgICAgY2F0ZWdvcnkgPSBDT0FMRVNDRSgke3Byb2R1Y3QuY2F0ZWdvcnl9LCBjYXRlZ29yeSksXG4gICAgICAgICAgcmF0aW5nID0gQ09BTEVTQ0UoJHtwcm9kdWN0LnJhdGluZ30sIHJhdGluZyksXG4gICAgICAgICAgcmV2aWV3cyA9IENPQUxFU0NFKCR7cHJvZHVjdC5yZXZpZXdzfSwgcmV2aWV3cyksXG4gICAgICAgICAgaW5fc3RvY2sgPSBDT0FMRVNDRSgke3Byb2R1Y3QuaW5TdG9ja30sIGluX3N0b2NrKVxuICAgICAgV0hFUkUgaWQgPSAke2lkfVxuICAgICAgUkVUVVJOSU5HICpcbiAgICBgO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJvd3NbMF0gfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBwcm9kdWN0OicsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlUHJvZHVjdChpZDogbnVtYmVyKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgc3FsYERFTEVURSBGUk9NIHByb2R1Y3RzIFdIRVJFIGlkID0gJHtpZH1gO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBwcm9kdWN0OicsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVXNlcihpZDogbnVtYmVyLCB1cGRhdGVzOiBQYXJ0aWFsPFVzZXI+KSB7XG4gIGlmICghaXNQb3N0Z3Jlc0F2YWlsYWJsZSkge1xuICAgIGF3YWl0IGVuc3VyZU1lbW9yeUluaXRpYWxpemVkKCk7XG4gICAgLy8gTWVtb3J5IGZhbGxiYWNrXG4gICAgY29uc3QgdXNlckluZGV4ID0gbWVtb3J5VXNlcnMuZmluZEluZGV4KHVzZXIgPT4gdXNlci5pZCA9PT0gaWQpO1xuICAgIGlmICh1c2VySW5kZXggPT09IC0xKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdVc2VyIG5vdCBmb3VuZCcgfTtcbiAgICB9XG4gICAgXG4gICAgbWVtb3J5VXNlcnNbdXNlckluZGV4XSA9IHsgLi4ubWVtb3J5VXNlcnNbdXNlckluZGV4XSwgLi4udXBkYXRlcyB9O1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1lbW9yeVVzZXJzW3VzZXJJbmRleF0gfTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyByb3dzIH0gPSBhd2FpdCBzcWxgXG4gICAgICBVUERBVEUgdXNlcnMgXG4gICAgICBTRVQgbmFtZSA9IENPQUxFU0NFKCR7dXBkYXRlcy5uYW1lfSwgbmFtZSksXG4gICAgICAgICAgZW1haWwgPSBDT0FMRVNDRSgke3VwZGF0ZXMuZW1haWx9LCBlbWFpbCksXG4gICAgICAgICAgcm9sZSA9IENPQUxFU0NFKCR7dXBkYXRlcy5yb2xlfSwgcm9sZSlcbiAgICAgIFdIRVJFIGlkID0gJHtpZH1cbiAgICAgIFJFVFVSTklORyBpZCwgZW1haWwsIG5hbWUsIHJvbGUsIGNyZWF0ZWRfYXRcbiAgICBgO1xuICAgIFxuICAgIGlmIChyb3dzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVXNlciBub3QgZm91bmQnIH07XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJvd3NbMF0gfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB1c2VyOicsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlVXNlcihpZDogbnVtYmVyKSB7XG4gIGlmICghaXNQb3N0Z3Jlc0F2YWlsYWJsZSkge1xuICAgIGF3YWl0IGVuc3VyZU1lbW9yeUluaXRpYWxpemVkKCk7XG4gICAgLy8gTWVtb3J5IGZhbGxiYWNrXG4gICAgY29uc3QgdXNlckluZGV4ID0gbWVtb3J5VXNlcnMuZmluZEluZGV4KHVzZXIgPT4gdXNlci5pZCA9PT0gaWQpO1xuICAgIGlmICh1c2VySW5kZXggPT09IC0xKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdVc2VyIG5vdCBmb3VuZCcgfTtcbiAgICB9XG4gICAgXG4gICAgbWVtb3J5VXNlcnMuc3BsaWNlKHVzZXJJbmRleCwgMSk7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IHJvd0NvdW50IH0gPSBhd2FpdCBzcWxgREVMRVRFIEZST00gdXNlcnMgV0hFUkUgaWQgPSAke2lkfWA7XG4gICAgXG4gICAgaWYgKHJvd0NvdW50ID09PSAwKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdVc2VyIG5vdCBmb3VuZCcgfTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHVzZXI6JywgZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvciB9O1xuICB9XG59XG5cbi8vIE9yZGVyIG1hbmFnZW1lbnQgZnVuY3Rpb25zXG5sZXQgbWVtb3J5T3JkZXJzOiBPcmRlcltdID0gW107XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxPcmRlcnMoKSB7XG4gIGlmICghaXNQb3N0Z3Jlc0F2YWlsYWJsZSkge1xuICAgIGF3YWl0IGVuc3VyZU1lbW9yeUluaXRpYWxpemVkKCk7XG4gICAgLy8gTWVtb3J5IGZhbGxiYWNrIHdpdGggc2FtcGxlIG9yZGVyc1xuICAgIGlmIChtZW1vcnlPcmRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBtZW1vcnlPcmRlcnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogMSxcbiAgICAgICAgICB1c2VySWQ6IDEsXG4gICAgICAgICAgdG90YWw6IDI5OS45OSxcbiAgICAgICAgICBzdGF0dXM6ICdkZWxpdmVyZWQnLFxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKSAvLyA3IGRheXMgYWdvXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogMixcbiAgICAgICAgICB1c2VySWQ6IDEsXG4gICAgICAgICAgdG90YWw6IDE0OS45OSxcbiAgICAgICAgICBzdGF0dXM6ICdzaGlwcGVkJyxcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAzICogMjQgKiA2MCAqIDYwICogMTAwMCkgLy8gMyBkYXlzIGFnb1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IDMsXG4gICAgICAgICAgdXNlcklkOiAxLFxuICAgICAgICAgIHRvdGFsOiA3OS45OSxcbiAgICAgICAgICBzdGF0dXM6ICdwcm9jZXNzaW5nJyxcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAxICogMjQgKiA2MCAqIDYwICogMTAwMCkgLy8gMSBkYXkgYWdvXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogNCxcbiAgICAgICAgICB1c2VySWQ6IDEsXG4gICAgICAgICAgdG90YWw6IDE5OS45OSxcbiAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAyICogNjAgKiA2MCAqIDEwMDApIC8vIDIgaG91cnMgYWdvXG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgfVxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1lbW9yeU9yZGVycyB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IHJvd3MgfSA9IGF3YWl0IHNxbGBcbiAgICAgIFNFTEVDVCBvLiosIHUubmFtZSBhcyB1c2VyX25hbWUsIHUuZW1haWwgYXMgdXNlcl9lbWFpbFxuICAgICAgRlJPTSBvcmRlcnMgb1xuICAgICAgSk9JTiB1c2VycyB1IE9OIG8udXNlcl9pZCA9IHUuaWRcbiAgICAgIE9SREVSIEJZIG8uY3JlYXRlZF9hdCBERVNDXG4gICAgYDtcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByb3dzIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgb3JkZXJzOicsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlT3JkZXJTdGF0dXMoaWQ6IG51bWJlciwgc3RhdHVzOiBPcmRlclsnc3RhdHVzJ10pIHtcbiAgaWYgKCFpc1Bvc3RncmVzQXZhaWxhYmxlKSB7XG4gICAgYXdhaXQgZW5zdXJlTWVtb3J5SW5pdGlhbGl6ZWQoKTtcbiAgICAvLyBNZW1vcnkgZmFsbGJhY2tcbiAgICBjb25zdCBvcmRlckluZGV4ID0gbWVtb3J5T3JkZXJzLmZpbmRJbmRleChvcmRlciA9PiBvcmRlci5pZCA9PT0gaWQpO1xuICAgIGlmIChvcmRlckluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnT3JkZXIgbm90IGZvdW5kJyB9O1xuICAgIH1cbiAgICBcbiAgICBtZW1vcnlPcmRlcnNbb3JkZXJJbmRleF0uc3RhdHVzID0gc3RhdHVzO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IG1lbW9yeU9yZGVyc1tvcmRlckluZGV4XSB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IHJvd3MgfSA9IGF3YWl0IHNxbGBcbiAgICAgIFVQREFURSBvcmRlcnMgXG4gICAgICBTRVQgc3RhdHVzID0gJHtzdGF0dXN9XG4gICAgICBXSEVSRSBpZCA9ICR7aWR9XG4gICAgICBSRVRVUk5JTkcgKlxuICAgIGA7XG4gICAgXG4gICAgaWYgKHJvd3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdPcmRlciBub3QgZm91bmQnIH07XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJvd3NbMF0gfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBvcmRlciBzdGF0dXM6JywgZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvciB9O1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVPcmRlcihpZDogbnVtYmVyKSB7XG4gIGlmICghaXNQb3N0Z3Jlc0F2YWlsYWJsZSkge1xuICAgIGF3YWl0IGVuc3VyZU1lbW9yeUluaXRpYWxpemVkKCk7XG4gICAgLy8gTWVtb3J5IGZhbGxiYWNrXG4gICAgY29uc3Qgb3JkZXJJbmRleCA9IG1lbW9yeU9yZGVycy5maW5kSW5kZXgob3JkZXIgPT4gb3JkZXIuaWQgPT09IGlkKTtcbiAgICBpZiAob3JkZXJJbmRleCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ09yZGVyIG5vdCBmb3VuZCcgfTtcbiAgICB9XG4gICAgXG4gICAgbWVtb3J5T3JkZXJzLnNwbGljZShvcmRlckluZGV4LCAxKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHsgcm93Q291bnQgfSA9IGF3YWl0IHNxbGBERUxFVEUgRlJPTSBvcmRlcnMgV0hFUkUgaWQgPSAke2lkfWA7XG4gICAgXG4gICAgaWYgKHJvd0NvdW50ID09PSAwKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdPcmRlciBub3QgZm91bmQnIH07XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBvcmRlcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yIH07XG4gIH1cbn0iXSwibmFtZXMiOlsic3FsIiwiYmNyeXB0IiwiY2hlY2tQb3N0Z3Jlc0Nvbm5lY3Rpb24iLCJwb3N0Z3Jlc1VybCIsInByb2Nlc3MiLCJlbnYiLCJQT1NUR1JFU19VUkwiLCJpbmNsdWRlcyIsImluaXRpYWxpemVNZW1vcnlEYXRhIiwibWVtb3J5UHJvZHVjdHMiLCJpZCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInByaWNlIiwiaW1hZ2UiLCJjYXRlZ29yeSIsInJhdGluZyIsInJldmlld3MiLCJpblN0b2NrIiwibWVtb3J5Q2F0ZWdvcmllcyIsImFkbWluUGFzc3dvcmQiLCJoYXNoIiwibWVtb3J5VXNlcnMiLCJlbWFpbCIsInBhc3N3b3JkIiwicm9sZSIsImNyZWF0ZWRBdCIsIkRhdGUiLCJpc1Bvc3RncmVzQXZhaWxhYmxlIiwibWVtb3J5Q2FydEl0ZW1zIiwibWVtb3J5SW5pdGlhbGl6ZWQiLCJpbml0aWFsaXphdGlvblByb21pc2UiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyb3IiLCJlbnN1cmVNZW1vcnlJbml0aWFsaXplZCIsImluaXRpYWxpemVEYXRhYmFzZSIsInN1Y2Nlc3MiLCJzZWVkRGF0YWJhc2UiLCJjYXRlZ29yaWVzIiwicHJvZHVjdHMiLCJwcm9kdWN0IiwiZ2V0UHJvZHVjdHMiLCJkYXRhIiwicm93cyIsIm1hcCIsInJvdyIsInBhcnNlRmxvYXQiLCJnZXRDYXRlZ29yaWVzIiwiZ2V0UHJvZHVjdHNCeUNhdGVnb3J5IiwiZmlsdGVyIiwicCIsInRvTG93ZXJDYXNlIiwic2VhcmNoUHJvZHVjdHMiLCJxdWVyeSIsImNyZWF0ZVVzZXIiLCJoYXNoZWRQYXNzd29yZCIsImV4aXN0aW5nVXNlciIsImZpbmQiLCJ1c2VyIiwibmV3VXNlciIsImxlbmd0aCIsInB1c2giLCJfIiwidXNlcldpdGhvdXRQYXNzd29yZCIsImdldFVzZXJCeUVtYWlsIiwidSIsImNyZWF0ZWRfYXQiLCJ2ZXJpZnlQYXNzd29yZCIsImNvbXBhcmUiLCJhZGRUb0NhcnQiLCJ1c2VyRW1haWwiLCJwcm9kdWN0SWQiLCJxdWFudGl0eSIsImdldENhcnRJdGVtcyIsInJlbW92ZUZyb21DYXJ0IiwiZ2V0QWxsVXNlcnMiLCJjcmVhdGVQcm9kdWN0IiwidXBkYXRlUHJvZHVjdCIsImRlbGV0ZVByb2R1Y3QiLCJ1cGRhdGVVc2VyIiwidXBkYXRlcyIsInVzZXJJbmRleCIsImZpbmRJbmRleCIsImRlbGV0ZVVzZXIiLCJzcGxpY2UiLCJyb3dDb3VudCIsIm1lbW9yeU9yZGVycyIsImdldEFsbE9yZGVycyIsInVzZXJJZCIsInRvdGFsIiwic3RhdHVzIiwibm93IiwidXBkYXRlT3JkZXJTdGF0dXMiLCJvcmRlckluZGV4Iiwib3JkZXIiLCJkZWxldGVPcmRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/@neondatabase","vendor-chunks/ws","vendor-chunks/bcryptjs","vendor-chunks/@vercel","vendor-chunks/node-gyp-build","vendor-chunks/utf-8-validate","vendor-chunks/bufferutil","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/uuid","vendor-chunks/oauth","vendor-chunks/@panva","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/preact","vendor-chunks/oidc-token-hash","vendor-chunks/cookie"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Ftoobaasghar%2FDesktop%2Fprojects%2Fdaynnight%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftoobaasghar%2FDesktop%2Fprojects%2Fdaynnight&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();