(()=>{var e={};e.id=573,e.ids=[573],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},57310:e=>{"use strict";e.exports=require("url")},22266:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>c});var s=r(67096),n=r(16132),a=r(37284),o=r.n(a),i=r(32564),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(t,d);let c=["",{children:["admin",{children:["products",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2043)),"/Users/toobaasghar/Desktop/projects/daynnight/app/admin/products/new/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,19591)),"/Users/toobaasghar/Desktop/projects/daynnight/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],l=["/Users/toobaasghar/Desktop/projects/daynnight/app/admin/products/new/page.tsx"],u="/admin/products/new/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/products/new/page",pathname:"/admin/products/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},49460:(e,t,r)=>{Promise.resolve().then(r.bind(r,14631))},14631:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>NewProduct});var s=r(30784),n=r(74284),a=r(57114),o=r(9885);function NewProduct(){let{data:e,status:t}=(0,n.useSession)(),r=(0,a.useRouter)(),[i,d]=(0,o.useState)(!1),[c,l]=(0,o.useState)({name:"",description:"",price:"",category:"",inStock:!0,image:"",rating:5,reviews:0});(0,o.useEffect)(()=>{if("loading"!==t&&(!e||"admin"!==e.user.role)){r.push("/auth/signin");return}},[e,t,r]);let handleSubmit=async e=>{e.preventDefault(),d(!0);try{let e=await fetch("/api/admin/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...c,price:parseFloat(c.price)})});if(e.ok)r.push("/admin/products");else{let t=await e.json();alert(t.error||"Failed to create product")}}catch(e){console.error("Error creating product:",e),alert("Error creating product")}finally{d(!1)}},handleChange=e=>{let{name:t,value:r,type:s}=e.target;l(n=>({...n,[t]:"checkbox"===s?e.target.checked:r}))};return"loading"===t?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"text-xl",children:"Loading..."})}):e&&"admin"===e.user.role?s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Add New Product"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Create a new product for your store"})]}),s.jsx("div",{className:"bg-white shadow rounded-lg",children:(0,s.jsxs)("form",{onSubmit:handleSubmit,className:"px-4 py-5 sm:p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Product Name"}),s.jsx("input",{type:"text",name:"name",id:"name",required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:c.name,onChange:handleChange})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{name:"description",id:"description",rows:3,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:c.description,onChange:handleChange})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Price ($)"}),s.jsx("input",{type:"number",name:"price",id:"price",step:"0.01",min:"0",required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:c.price,onChange:handleChange})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,s.jsxs)("select",{name:"category",id:"category",required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:c.category,onChange:handleChange,children:[s.jsx("option",{value:"",children:"Select a category"}),s.jsx("option",{value:"Electronics",children:"Electronics"}),s.jsx("option",{value:"Clothing",children:"Clothing"}),s.jsx("option",{value:"Home & Garden",children:"Home & Garden"}),s.jsx("option",{value:"Sports",children:"Sports"}),s.jsx("option",{value:"Books",children:"Books"}),s.jsx("option",{value:"Beauty",children:"Beauty"})]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700",children:"Image URL"}),s.jsx("input",{type:"url",name:"image",id:"image",required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:c.image,onChange:handleChange,placeholder:"https://example.com/image.jpg"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"inStock",id:"inStock",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:c.inStock,onChange:handleChange}),s.jsx("label",{htmlFor:"inStock",className:"ml-2 block text-sm text-gray-900",children:"In Stock"})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>r.push("/admin/products"),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:i,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:i?"Creating...":"Create Product"})]})]})})]})}):null}},2043:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>d});var s=r(95153);let n=(0,s.createProxy)(String.raw`/Users/toobaasghar/Desktop/projects/daynnight/app/admin/products/new/page.tsx`),{__esModule:a,$$typeof:o}=n,i=n.default,d=i},57114:(e,t,r)=>{e.exports=r(4979)}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[657,889,710],()=>__webpack_exec__(22266));module.exports=r})();